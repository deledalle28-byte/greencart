<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon compte – Connexion & création de compte | GreenCart</title>
    <meta name="description" content="Connectez-vous à votre compte GreenCart ou créez un compte en quelques clics, avec votre e-mail ou en utilisant Google. Accédez à vos commandes, vos adresses et vos producteurs favoris.">
    
    <link rel="canonical" href="https://greencart.fr/compte/" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    
    <div class="top-banner" role="complementary" aria-label="Informations importantes">
        <p>Livraison neutre en carbone dès 40 € d'achat • Satisfait ou remboursé sous 30 jours</p>
    </div>
    
    <header class="main-header" role="banner">
        <div class="header-container">
            <div class="logo">
                <a href="/" aria-label="GreenCart - Retour à l'accueil">
                    <img src="/images/Logo-removebg-preview 1.jpg" alt="GreenCart - Courses écoresponsables locales" class="logo-image">
                    <h1 class="visually-hidden">GreenCart</h1>
                </a>
            </div>
            
            <nav class="main-nav" role="navigation" aria-label="Navigation principale">
                <ul class="nav-list">
                    <li><a href="/">Accueil</a></li>
                    <li><a href="/producteurs">Producteurs & fermes</a></li>
                    <li><a href="/produits">Paniers & produits</a></li>
                    <li><a href="/engagements">Nos engagements</a></li>
                    <li><a href="/aide">Aide & FAQ</a></li>
                </ul>
            </nav>
            
            <div class="header-actions">
                <form class="search-form" role="search" aria-label="Recherche de produits">
                    <label for="search-input" class="visually-hidden">Rechercher un produit ou un producteur</label>
                    <input 
                        type="search" 
                        id="search-input" 
                        name="q" 
                        placeholder="Rechercher un produit ou un producteur…"
                        aria-label="Rechercher un produit ou un producteur"
                    >
                    <button type="submit" aria-label="Lancer la recherche">
                        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                </form>
                
                <div class="header-icons">
                    <a href="/compte" aria-label="Mon compte" class="icon-link">
                        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </a>
                    <a href="/panier" aria-label="Panier" class="icon-link cart-link">
                        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span class="cart-count" aria-live="polite">0</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content">
        <div class="container">
            <h1>Mon compte GreenCart</h1>
            <p class="page-intro">Connectez-vous à votre compte pour suivre vos commandes, gérer vos adresses et retrouver vos producteurs favoris. Si vous n'avez pas encore de compte, vous pouvez en créer un en quelques clics.</p>

            <div class="account-tabs" role="tablist" aria-label="Connexion ou création de compte">
                <button 
                    class="account-tab active" 
                    role="tab" 
                    aria-selected="true" 
                    aria-controls="login-panel" 
                    id="login-tab"
                    tabindex="0"
                >
                    Se connecter
                </button>
                <button 
                    class="account-tab" 
                    role="tab" 
                    aria-selected="false" 
                    aria-controls="signup-panel" 
                    id="signup-tab"
                    tabindex="-1"
                >
                    Créer un compte
                </button>
            </div>

            <!-- Onglet Connexion -->
            <div 
                class="account-panel active" 
                id="login-panel" 
                role="tabpanel" 
                aria-labelledby="login-tab"
                aria-hidden="false"
            >
                <h2>Se connecter à GreenCart</h2>

                <button type="button" class="btn-google" id="google-login-btn">
                    <svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true">
                        <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                        <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"/>
                        <path fill="#FBBC05" d="M3.964 10.707c-.18-.54-.282-1.117-.282-1.707s.102-1.167.282-1.707V4.961H.957C.348 6.175 0 7.55 0 9s.348 2.825.957 4.039l3.007-2.332z"/>
                        <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.961L3.964 7.293C4.672 5.163 6.656 3.58 9 3.58z"/>
                    </svg>
                    Continuer avec Google
                </button>
                <p class="google-consent">En continuant avec Google, vous acceptez les conditions d'utilisation et la politique de confidentialité de GreenCart.</p>

                <div class="form-separator" aria-label="ou connectez-vous avec votre adresse e-mail">
                    <span>ou</span>
                </div>

                <form class="account-form" id="login-form" novalidate>
                    <div id="login-errors" class="form-errors" role="alert" aria-live="polite" style="display: none;"></div>

                    <div class="form-group">
                        <label for="login-email">Adresse e-mail *</label>
                        <input 
                            type="email" 
                            id="login-email" 
                            name="email" 
                            placeholder="vous@example.com"
                            required 
                            aria-required="true"
                            aria-describedby="login-email-help login-email-error"
                        >
                        <small id="login-email-help" class="form-help">Utilisée pour votre connexion et vos e-mails de confirmation.</small>
                        <span id="login-email-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-group">
                        <label for="login-password">Mot de passe *</label>
                        <div class="password-input-wrapper">
                            <input 
                                type="password" 
                                id="login-password" 
                                name="password" 
                                required 
                                aria-required="true"
                                aria-describedby="login-password-error caps-lock-warning"
                            >
                            <button type="button" class="toggle-password" aria-label="Afficher le mot de passe" data-target="login-password">
                                Afficher
                            </button>
                        </div>
                        <div id="caps-lock-warning" class="caps-lock-warning" role="alert" aria-live="polite" style="display: none;">
                            ⚠️ Verrouillage des majuscules activé
                        </div>
                        <span id="login-password-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember-me" name="remember">
                            <span>Rester connecté sur cet appareil</span>
                        </label>
                        <a href="/reinitialiser-mot-de-passe" class="forgot-password-link">Mot de passe oublié ?</a>
                    </div>

                    <button type="submit" class="btn-primary">Se connecter</button>
                    <p class="form-hint">Si vous n'avez pas encore de compte, vous pouvez en créer un via l'onglet "Créer un compte" ou avec Google.</p>
                </form>
            </div>

            <!-- Onglet Création de compte -->
            <div 
                class="account-panel" 
                id="signup-panel" 
                role="tabpanel" 
                aria-labelledby="signup-tab"
                aria-hidden="true"
            >
                <h2>Créer un compte</h2>

                <button type="button" class="btn-google" id="google-signup-btn">
                    <svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true">
                        <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                        <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"/>
                        <path fill="#FBBC05" d="M3.964 10.707c-.18-.54-.282-1.117-.282-1.707s.102-1.167.282-1.707V4.961H.957C.348 6.175 0 7.55 0 9s.348 2.825.957 4.039l3.007-2.332z"/>
                        <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.961L3.964 7.293C4.672 5.163 6.656 3.58 9 3.58z"/>
                    </svg>
                    Créer un compte avec Google
                </button>
                <p class="google-consent">Votre prénom, votre nom et votre adresse e-mail pourront être importés depuis votre compte Google. Vous pourrez les modifier avant de valider.</p>

                <div class="form-separator" aria-label="ou créez un compte avec votre adresse e-mail">
                    <span>ou</span>
                </div>

                <form class="account-form" id="signup-form" novalidate>
                    <div id="signup-errors" class="form-errors" role="alert" aria-live="polite" style="display: none;"></div>

                    <div class="form-group">
                        <label for="signup-firstname">Prénom *</label>
                        <input 
                            type="text" 
                            id="signup-firstname" 
                            name="firstname" 
                            placeholder="Camille"
                            required 
                            aria-required="true"
                            aria-describedby="signup-firstname-error"
                        >
                        <span id="signup-firstname-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-group">
                        <label for="signup-lastname">Nom *</label>
                        <input 
                            type="text" 
                            id="signup-lastname" 
                            name="lastname" 
                            placeholder="Dupont"
                            required 
                            aria-required="true"
                            aria-describedby="signup-lastname-error"
                        >
                        <span id="signup-lastname-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-group">
                        <label for="signup-email">Adresse e-mail *</label>
                        <input 
                            type="email" 
                            id="signup-email" 
                            name="email" 
                            placeholder="vous@example.com"
                            required 
                            aria-required="true"
                            aria-describedby="signup-email-help signup-email-error"
                        >
                        <small id="signup-email-help" class="form-help">Elle sera utilisée pour vous connecter et pour vos confirmations de commande.</small>
                        <span id="signup-email-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-group">
                        <label for="signup-password">Mot de passe *</label>
                        <div class="password-input-wrapper">
                            <input 
                                type="password" 
                                id="signup-password" 
                                name="password" 
                                required 
                                aria-required="true"
                                aria-describedby="signup-password-help signup-password-error"
                            >
                            <button type="button" class="toggle-password" aria-label="Afficher le mot de passe" data-target="signup-password">
                                Afficher
                            </button>
                        </div>
                        <small id="signup-password-help" class="form-help">
                            Votre mot de passe doit contenir au minimum :
                            <ul>
                                <li>8 caractères</li>
                                <li>1 lettre</li>
                                <li>1 chiffre</li>
                            </ul>
                        </small>
                        <span id="signup-password-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label required">
                            <input 
                                type="checkbox" 
                                id="accept-cgv" 
                                name="accept_cgv" 
                                required
                                aria-required="true"
                                aria-describedby="accept-cgv-error"
                            >
                            <span>J'accepte les <a href="/cgv" target="_blank">Conditions générales de vente</a> et la <a href="/confidentialite" target="_blank">Politique de confidentialité</a>.</span>
                        </label>
                        <span id="accept-cgv-error" class="field-error" role="alert" aria-live="polite" style="display: none;"></span>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="newsletter" name="newsletter">
                            <span>Je souhaite recevoir les actualités de GreenCart et des producteurs.</span>
                        </label>
                    </div>

                    <button type="submit" class="btn-primary">Créer mon compte</button>
                    <p class="form-hint">En créant un compte, vous pourrez suivre vos commandes, enregistrer vos adresses et retrouver plus rapidement vos producteurs et produits préférés.</p>
                </form>
            </div>
        </div>
    </main>

    <footer class="main-footer" role="contentinfo">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>GreenCart</h3>
                    <ul>
                        <li><a href="/a-propos">À propos</a></li>
                        <li><a href="/engagements">Nos engagements</a></li>
                        <li><a href="/rejoindre">Rejoindre nos producteurs</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Aide</h3>
                    <ul>
                        <li><a href="/aide">Aide & FAQ</a></li>
                        <li><a href="/contact">Contact</a></li>
                        <li><a href="/suivi">Suivi de commande</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Infos légales</h3>
                    <ul>
                        <li><a href="/mentions-legales">Mentions légales</a></li>
                        <li><a href="/cgv">Conditions générales de vente</a></li>
                        <li><a href="/confidentialite">Politique de confidentialité</a></li>
                        <li><a href="/accessibilite">Accessibilité du site</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>© 2025 GreenCart – Courses écoresponsables locales</p>
            </div>
        </div>
    </footer>

    <script src="/cart-manager.js"></script>
    <script src="/search.js"></script>
    <script src="/compte.js"></script>
</body>
</html>

